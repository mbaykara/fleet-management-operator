Thank you for installing {{ .Chart.Name }}.

Your release is named {{ .Release.Name }}.

The Fleet Management Operator has been deployed to namespace: {{ .Release.Namespace }}

To learn more about the release, try:

  $ helm status {{ .Release.Name }} -n {{ .Release.Namespace }}
  $ helm get all {{ .Release.Name }} -n {{ .Release.Namespace }}

To check the operator status:

  $ kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "fleet-management-operator.name" . }}

To view operator logs:

  $ kubectl logs -n {{ .Release.Namespace }} deployment/{{ include "fleet-management-operator.fullname" . }} -f

{{- if .Values.crds.install }}

The Pipeline CRD has been installed. To create a Pipeline:

  $ kubectl apply -f - <<EOF
  apiVersion: fleetmanagement.grafana.com/v1alpha1
  kind: Pipeline
  metadata:
    name: example-pipeline
    namespace: {{ .Release.Namespace }}
  spec:
    contents: |
      prometheus.exporter.self "alloy" { }
    matchers:
      - collector.os=linux
    enabled: true
    configType: Alloy
  EOF

To view your pipelines:

  $ kubectl get pipelines -A
{{- end }}

{{- if .Values.metrics.enabled }}

Metrics are available at:

  $ kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "fleet-management-operator.fullname" . }}-metrics {{ .Values.metrics.port }}:{{ .Values.metrics.service.port }}

Then visit: http://localhost:{{ .Values.metrics.port }}/metrics
{{- end }}

For more information, visit: {{ .Chart.Home }}
